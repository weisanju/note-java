<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>JWT无状态Session</title>


        <!-- Custom HTML head -->
        
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="../favicon.svg">
        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../highlight.css">
        <link rel="stylesheet" href="../tomorrow-night.css">
        <link rel="stylesheet" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->

    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><a href="../index.html">我的笔记库</a></li><li class="chapter-item expanded affix "><li class="part-title">java基础</li><li class="chapter-item expanded "><a href="../1.java基础_代理/index.html"><strong aria-hidden="true">1.</strong> 代理</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../1.java基础_代理/CGLIB.html"><strong aria-hidden="true">1.1.</strong> CGLIB</a></li><li class="chapter-item expanded "><a href="../1.java基础_代理/cglib的几种Callback.html"><strong aria-hidden="true">1.2.</strong> cglib的几种Callback</a></li><li class="chapter-item expanded "><a href="../1.java基础_代理/jdk动态代理.html"><strong aria-hidden="true">1.3.</strong> jdk动态代理</a></li></ol></li><li class="chapter-item expanded "><div><strong aria-hidden="true">2.</strong> 对象拷贝</div></li><li><ol class="section"><li class="chapter-item expanded "><a href="../2.java基础_对象拷贝/mapstruct.html"><strong aria-hidden="true">2.1.</strong> mapstruct</a></li></ol></li><li class="chapter-item expanded "><div><strong aria-hidden="true">3.</strong> 函数式编程</div></li><li><ol class="section"><li class="chapter-item expanded "><a href="../3.java基础_函数式编程/anyMatchAllMatch.html"><strong aria-hidden="true">3.1.</strong> anyMatchAllMatch</a></li><li class="chapter-item expanded "><a href="../3.java基础_函数式编程/java函数式编程.html"><strong aria-hidden="true">3.2.</strong> java函数式编程</a></li><li class="chapter-item expanded "><a href="../3.java基础_函数式编程/lamba表达式原理.html"><strong aria-hidden="true">3.3.</strong> lamba表达式原理</a></li><li class="chapter-item expanded "><a href="../3.java基础_函数式编程/方法引用.html"><strong aria-hidden="true">3.4.</strong> 方法引用</a></li><li class="chapter-item expanded "><a href="../3.java基础_函数式编程/流操作.html"><strong aria-hidden="true">3.5.</strong> 流操作</a></li></ol></li><li class="chapter-item expanded "><div><strong aria-hidden="true">4.</strong> Bean校验</div></li><li><ol class="section"><li class="chapter-item expanded "><a href="../4.java基础_Bean校验/javaValidated.html"><strong aria-hidden="true">4.1.</strong> javaValidated</a></li></ol></li><li class="chapter-item expanded "><a href="../5.java基础_多线程与锁/index.html"><strong aria-hidden="true">5.</strong> 多线程与锁</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../5.java基础_多线程与锁/JUC线程同步工具.html"><strong aria-hidden="true">5.1.</strong> JUC线程同步工具</a></li><li class="chapter-item expanded "><a href="../5.java基础_多线程与锁/LockSupport.html"><strong aria-hidden="true">5.2.</strong> LockSupport</a></li><li class="chapter-item expanded "><a href="../5.java基础_多线程与锁/java内存模型.html"><strong aria-hidden="true">5.3.</strong> java内存模型</a></li><li class="chapter-item expanded "><a href="../5.java基础_多线程与锁/java线程状态.html"><strong aria-hidden="true">5.4.</strong> java线程状态</a></li><li class="chapter-item expanded "><a href="../5.java基础_多线程与锁/java锁.html"><strong aria-hidden="true">5.5.</strong> java锁</a></li><li class="chapter-item expanded "><a href="../5.java基础_多线程与锁/jvm线程模型.html"><strong aria-hidden="true">5.6.</strong> jvm线程模型</a></li><li class="chapter-item expanded "><a href="../5.java基础_多线程与锁/关于多线程与并发编码的心得.html"><strong aria-hidden="true">5.7.</strong> 关于多线程与并发编码的心得</a></li><li class="chapter-item expanded "><a href="../5.java基础_多线程与锁/线程操作.html"><strong aria-hidden="true">5.8.</strong> 线程操作</a></li><li class="chapter-item expanded "><a href="../5.java基础_多线程与锁/线程池.html"><strong aria-hidden="true">5.9.</strong> 线程池</a></li><li class="chapter-item expanded "><div><strong aria-hidden="true">5.10.</strong> 基于AQS的同步工具</div></li><li><ol class="section"><li class="chapter-item expanded "><a href="../5.java基础_多线程与锁/基于AQS的同步工具/AQS.html"><strong aria-hidden="true">5.10.1.</strong> AQS</a></li><li class="chapter-item expanded "><a href="../5.java基础_多线程与锁/基于AQS的同步工具/Condition条件等待.html"><strong aria-hidden="true">5.10.2.</strong> Condition条件等待</a></li><li class="chapter-item expanded "><a href="../5.java基础_多线程与锁/基于AQS的同步工具/CountDownLatch.html"><strong aria-hidden="true">5.10.3.</strong> CountDownLatch</a></li><li class="chapter-item expanded "><a href="../5.java基础_多线程与锁/基于AQS的同步工具/CyclicBarrier.html"><strong aria-hidden="true">5.10.4.</strong> CyclicBarrier</a></li><li class="chapter-item expanded "><a href="../5.java基础_多线程与锁/基于AQS的同步工具/Lock锁接口.html"><strong aria-hidden="true">5.10.5.</strong> Lock锁接口</a></li><li class="chapter-item expanded "><a href="../5.java基础_多线程与锁/基于AQS的同步工具/ReentrantLock.html"><strong aria-hidden="true">5.10.6.</strong> ReentrantLock</a></li><li class="chapter-item expanded "><a href="../5.java基础_多线程与锁/基于AQS的同步工具/ReentrantReadWriteLock.html"><strong aria-hidden="true">5.10.7.</strong> ReentrantReadWriteLock</a></li><li class="chapter-item expanded "><a href="../5.java基础_多线程与锁/基于AQS的同步工具/Semaphore.html"><strong aria-hidden="true">5.10.8.</strong> Semaphore</a></li><li class="chapter-item expanded "><a href="../5.java基础_多线程与锁/基于AQS的同步工具/StampedLock.html"><strong aria-hidden="true">5.10.9.</strong> StampedLock</a></li></ol></li></ol></li><li class="chapter-item expanded "><a href="../6.java基础_集合框架/index.html"><strong aria-hidden="true">6.</strong> 集合框架</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../6.java基础_集合框架/ArrayBlockingQueue.html"><strong aria-hidden="true">6.1.</strong> ArrayBlockingQueue</a></li><li class="chapter-item expanded "><a href="../6.java基础_集合框架/ArrayList.html"><strong aria-hidden="true">6.2.</strong> ArrayList</a></li><li class="chapter-item expanded "><a href="../6.java基础_集合框架/Collections工具类.html"><strong aria-hidden="true">6.3.</strong> Collections工具类</a></li><li class="chapter-item expanded "><a href="../6.java基础_集合框架/ConcurrentHashMap.html"><strong aria-hidden="true">6.4.</strong> ConcurrentHashMap</a></li><li class="chapter-item expanded "><a href="../6.java基础_集合框架/LinkedList与双向队列.html"><strong aria-hidden="true">6.5.</strong> LinkedList与双向队列</a></li><li class="chapter-item expanded "><a href="../6.java基础_集合框架/List.html"><strong aria-hidden="true">6.6.</strong> List</a></li><li class="chapter-item expanded "><a href="../6.java基础_集合框架/Map接口.html"><strong aria-hidden="true">6.7.</strong> Map接口</a></li><li class="chapter-item expanded "><a href="../6.java基础_集合框架/Queue与Deque.html"><strong aria-hidden="true">6.8.</strong> Queue与Deque</a></li><li class="chapter-item expanded "><a href="../6.java基础_集合框架/Set与LinkedHashMap.html"><strong aria-hidden="true">6.9.</strong> Set与LinkedHashMap</a></li><li class="chapter-item expanded "><a href="../6.java基础_集合框架/SynchronousQueue.html"><strong aria-hidden="true">6.10.</strong> SynchronousQueue</a></li><li class="chapter-item expanded "><a href="../6.java基础_集合框架/arraylist和linkedlist.html"><strong aria-hidden="true">6.11.</strong> arraylist和linkedlist</a></li><li class="chapter-item expanded "><a href="../6.java基础_集合框架/hashMap.html"><strong aria-hidden="true">6.12.</strong> hashMap</a></li></ol></li><li class="chapter-item expanded "><li class="part-title">jvm</li><li class="chapter-item expanded "><div><strong aria-hidden="true">7.</strong> jvm基础</div></li><li><ol class="section"><li class="chapter-item expanded "><a href="../7.jvm_jvm基础/GC后对象地址变化了HashCode如何保持不变.html"><strong aria-hidden="true">7.1.</strong> GC后对象地址变化了HashCode如何保持不变</a></li><li class="chapter-item expanded "><a href="../7.jvm_jvm基础/JMM与volatile关键字.html"><strong aria-hidden="true">7.2.</strong> JMM与volatile关键字</a></li><li class="chapter-item expanded "><a href="../7.jvm_jvm基础/JVMGC.html"><strong aria-hidden="true">7.3.</strong> JVMGC</a></li><li class="chapter-item expanded "><a href="../7.jvm_jvm基础/JVM内存模型.html"><strong aria-hidden="true">7.4.</strong> JVM内存模型</a></li><li class="chapter-item expanded "><a href="../7.jvm_jvm基础/JVM参数.html"><strong aria-hidden="true">7.5.</strong> JVM参数</a></li><li class="chapter-item expanded "><a href="../7.jvm_jvm基础/JVM复制算法.html"><strong aria-hidden="true">7.6.</strong> JVM复制算法</a></li><li class="chapter-item expanded "><a href="../7.jvm_jvm基础/javaUnsafe工具类与CAS.html"><strong aria-hidden="true">7.7.</strong> javaUnsafe工具类与CAS</a></li><li class="chapter-item expanded "><a href="../7.jvm_jvm基础/java内存泄露与OOM.html"><strong aria-hidden="true">7.8.</strong> java内存泄露与OOM</a></li><li class="chapter-item expanded "><a href="../7.jvm_jvm基础/java对象分析.html"><strong aria-hidden="true">7.9.</strong> java对象分析</a></li><li class="chapter-item expanded "><a href="../7.jvm_jvm基础/java引用类型.html"><strong aria-hidden="true">7.10.</strong> java引用类型</a></li><li class="chapter-item expanded "><a href="../7.jvm_jvm基础/类加载/index.html"><strong aria-hidden="true">7.11.</strong> 类加载</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../7.jvm_jvm基础/类加载/类加载器.html"><strong aria-hidden="true">7.11.1.</strong> 类加载器</a></li><li class="chapter-item expanded "><a href="../7.jvm_jvm基础/类加载/类加载过程.html"><strong aria-hidden="true">7.11.2.</strong> 类加载过程</a></li><li class="chapter-item expanded "><a href="../7.jvm_jvm基础/类加载/线程上下文加载器.html"><strong aria-hidden="true">7.11.3.</strong> 线程上下文加载器</a></li></ol></li></ol></li><li class="chapter-item expanded "><div><strong aria-hidden="true">8.</strong> jvm问题诊断与性能分析</div></li><li><ol class="section"><li class="chapter-item expanded "><a href="../8.jvm_jvm问题诊断与性能分析/MAT.html"><strong aria-hidden="true">8.1.</strong> MAT</a></li><li class="chapter-item expanded "><a href="../8.jvm_jvm问题诊断与性能分析/arthas.html"><strong aria-hidden="true">8.2.</strong> arthas</a></li><li class="chapter-item expanded "><a href="../8.jvm_jvm问题诊断与性能分析/javaCPU占用高的问题.html"><strong aria-hidden="true">8.3.</strong> javaCPU占用高的问题</a></li><li class="chapter-item expanded "><a href="../8.jvm_jvm问题诊断与性能分析/java远程调试.html"><strong aria-hidden="true">8.4.</strong> java远程调试</a></li><li class="chapter-item expanded "><a href="../8.jvm_jvm问题诊断与性能分析/优雅停服.html"><strong aria-hidden="true">8.5.</strong> 优雅停服</a></li><li class="chapter-item expanded "><a href="../8.jvm_jvm问题诊断与性能分析/排查内存溢出.html"><strong aria-hidden="true">8.6.</strong> 排查内存溢出</a></li></ol></li><li class="chapter-item expanded "><div><strong aria-hidden="true">9.</strong> Arthas</div></li><li><ol class="section"><li class="chapter-item expanded "><a href="../9.jvm_Arthas/1.安装.html"><strong aria-hidden="true">9.1.</strong> 安装</a></li><li class="chapter-item expanded "><a href="../9.jvm_Arthas/2.快速入门.html"><strong aria-hidden="true">9.2.</strong> 快速入门</a></li><li class="chapter-item expanded "><a href="../9.jvm_Arthas/3.命令.html"><strong aria-hidden="true">9.3.</strong> 命令</a></li><li class="chapter-item expanded "><a href="../9.jvm_Arthas/4.ArthasTunnel.html"><strong aria-hidden="true">9.4.</strong> ArthasTunnel</a></li><li class="chapter-item expanded "><a href="../9.jvm_Arthas/5.Idea插件.html"><strong aria-hidden="true">9.5.</strong> Idea插件</a></li><li class="chapter-item expanded "><a href="../9.jvm_Arthas/6.JavaAgent启动.html"><strong aria-hidden="true">9.6.</strong> JavaAgent启动</a></li><li class="chapter-item expanded "><a href="../9.jvm_Arthas/7.火焰图.html"><strong aria-hidden="true">9.7.</strong> 火焰图</a></li><li class="chapter-item expanded "><a href="../9.jvm_Arthas/8.thread命令.html"><strong aria-hidden="true">9.8.</strong> thread命令</a></li><li class="chapter-item expanded "><a href="../9.jvm_Arthas/9.trace.html"><strong aria-hidden="true">9.9.</strong> trace</a></li></ol></li><li class="chapter-item expanded "><li class="part-title">spring</li><li class="chapter-item expanded "><div><strong aria-hidden="true">10.</strong> SpringFramework</div></li><li><ol class="section"><li class="chapter-item expanded "><a href="../10.spring_SpringFramework/0.spring容器启动总览.html"><strong aria-hidden="true">10.1.</strong> spring容器启动总览</a></li><li class="chapter-item expanded "><a href="../10.spring_SpringFramework/1.spring容器启动-bean实例化流程.html"><strong aria-hidden="true">10.2.</strong> spring容器启动-bean实例化流程</a></li><li class="chapter-item expanded "><a href="../10.spring_SpringFramework/2.SpringBean实例化过程.html"><strong aria-hidden="true">10.3.</strong> SpringBean实例化过程</a></li><li class="chapter-item expanded "><a href="../10.spring_SpringFramework/3.Spring依赖注入与初始化.html"><strong aria-hidden="true">10.4.</strong> Spring依赖注入与初始化</a></li><li class="chapter-item expanded "><a href="../10.spring_SpringFramework/4.SpringBean的生命周期.html"><strong aria-hidden="true">10.5.</strong> SpringBean的生命周期</a></li><li class="chapter-item expanded "><a href="../10.spring_SpringFramework/5.SpringSchedule.html"><strong aria-hidden="true">10.6.</strong> SpringSchedule</a></li><li class="chapter-item expanded "><a href="../10.spring_SpringFramework/ClassPathScanningCandidateComponentProvider.html"><strong aria-hidden="true">10.7.</strong> ClassPathScanningCandidateComponentProvider</a></li><li class="chapter-item expanded "><a href="../10.spring_SpringFramework/PropertySource.html"><strong aria-hidden="true">10.8.</strong> PropertySource</a></li><li class="chapter-item expanded "><a href="../10.spring_SpringFramework/Spring总结.html"><strong aria-hidden="true">10.9.</strong> Spring总结</a></li><li class="chapter-item expanded "><a href="../10.spring_SpringFramework/applicationContext与BeanFactory的区别.html"><strong aria-hidden="true">10.10.</strong> applicationContext与BeanFactory的区别</a></li><li class="chapter-item expanded "><a href="../10.spring_SpringFramework/spring杂项.html"><strong aria-hidden="true">10.11.</strong> spring杂项</a></li><li class="chapter-item expanded "><a href="../10.spring_SpringFramework/spring组合注解.html"><strong aria-hidden="true">10.12.</strong> spring组合注解</a></li><li class="chapter-item expanded "><a href="../10.spring_SpringFramework/spring解决循环依赖问题.html"><strong aria-hidden="true">10.13.</strong> spring解决循环依赖问题</a></li><li class="chapter-item expanded "><a href="../10.spring_SpringFramework/postprocessor/index.html"><strong aria-hidden="true">10.14.</strong> postprocessor</a></li><li class="chapter-item expanded "><a href="../10.spring_SpringFramework/spring-aop/index.html"><strong aria-hidden="true">10.15.</strong> spring-aop</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../10.spring_SpringFramework/spring-aop/SpringAop-cglib动态代理.html"><strong aria-hidden="true">10.15.1.</strong> SpringAop-cglib动态代理</a></li><li class="chapter-item expanded "><a href="../10.spring_SpringFramework/spring-aop/SpringAop-jdk动态代理.html"><strong aria-hidden="true">10.15.2.</strong> SpringAop-jdk动态代理</a></li><li class="chapter-item expanded "><a href="../10.spring_SpringFramework/spring-aop/SpringAop-涉及到的类.html"><strong aria-hidden="true">10.15.3.</strong> SpringAop-涉及到的类</a></li><li class="chapter-item expanded "><a href="../10.spring_SpringFramework/spring-aop/SpringAop-编程式代理.html"><strong aria-hidden="true">10.15.4.</strong> SpringAop-编程式代理</a></li><li class="chapter-item expanded "><a href="../10.spring_SpringFramework/spring-aop/SpringAop-自动代理.html"><strong aria-hidden="true">10.15.5.</strong> SpringAop-自动代理</a></li><li class="chapter-item expanded "><a href="../10.spring_SpringFramework/spring-aop/SpringAop总结.html"><strong aria-hidden="true">10.15.6.</strong> SpringAop总结</a></li><li class="chapter-item expanded "><a href="../10.spring_SpringFramework/spring-aop/aop包解析.html"><strong aria-hidden="true">10.15.7.</strong> aop包解析</a></li><li class="chapter-item expanded "><a href="../10.spring_SpringFramework/spring-aop/taskList.html"><strong aria-hidden="true">10.15.8.</strong> taskList</a></li><li class="chapter-item expanded "><div><strong aria-hidden="true">10.15.9.</strong> AOP应用解析</div></li><li><ol class="section"><li class="chapter-item expanded "><a href="../10.spring_SpringFramework/spring-aop/AOP应用解析/Async异步.html"><strong aria-hidden="true">10.15.9.1.</strong> Async异步</a></li><li class="chapter-item expanded "><a href="../10.spring_SpringFramework/spring-aop/AOP应用解析/依赖懒加载.html"><strong aria-hidden="true">10.15.9.2.</strong> 依赖懒加载</a></li><li class="chapter-item expanded "><a href="../10.spring_SpringFramework/spring-aop/AOP应用解析/缓存.html"><strong aria-hidden="true">10.15.9.3.</strong> 缓存</a></li></ol></li></ol></li><li class="chapter-item expanded "><a href="../10.spring_SpringFramework/spring-bean定义/index.html"><strong aria-hidden="true">10.16.</strong> spring-bean定义</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../10.spring_SpringFramework/spring-bean定义/Bean定义.html"><strong aria-hidden="true">10.16.1.</strong> Bean定义</a></li></ol></li><li class="chapter-item expanded "><a href="../10.spring_SpringFramework/springBeanScope/index.html"><strong aria-hidden="true">10.17.</strong> springBeanScope</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../10.spring_SpringFramework/springBeanScope/spring自定义可刷新的上下文.html"><strong aria-hidden="true">10.17.1.</strong> spring自定义可刷新的上下文</a></li></ol></li><li class="chapter-item expanded "><div><strong aria-hidden="true">10.18.</strong> springframework</div></li><li><ol class="section"><li class="chapter-item expanded "><a href="../10.spring_SpringFramework/springframework/MessageSource.html"><strong aria-hidden="true">10.18.1.</strong> MessageSource</a></li><li class="chapter-item expanded "><a href="../10.spring_SpringFramework/springframework/spring-ioc.html"><strong aria-hidden="true">10.18.2.</strong> spring-ioc</a></li><li class="chapter-item expanded "><a href="../10.spring_SpringFramework/springframework/springEL.html"><strong aria-hidden="true">10.18.3.</strong> springEL</a></li><li class="chapter-item expanded "><a href="../10.spring_SpringFramework/springframework/spring代理.html"><strong aria-hidden="true">10.18.4.</strong> spring代理</a></li><li class="chapter-item expanded "><a href="../10.spring_SpringFramework/springframework/基于Ant的路径匹配.html"><strong aria-hidden="true">10.18.5.</strong> 基于Ant的路径匹配</a></li><li class="chapter-item expanded "><a href="../10.spring_SpringFramework/springframework/字段格式化.html"><strong aria-hidden="true">10.18.6.</strong> 字段格式化</a></li><li class="chapter-item expanded "><a href="../10.spring_SpringFramework/springframework/属性源抽象.html"><strong aria-hidden="true">10.18.7.</strong> 属性源抽象</a></li><li class="chapter-item expanded "><a href="../10.spring_SpringFramework/springframework/类型转换.html"><strong aria-hidden="true">10.18.8.</strong> 类型转换</a></li><li class="chapter-item expanded "><a href="../10.spring_SpringFramework/springframework/资源抽象.html"><strong aria-hidden="true">10.18.9.</strong> 资源抽象</a></li><li class="chapter-item expanded "><a href="../10.spring_SpringFramework/springframework/配置全局日期格式化.html"><strong aria-hidden="true">10.18.10.</strong> 配置全局日期格式化</a></li></ol></li><li class="chapter-item expanded "><a href="../10.spring_SpringFramework/编程式注入类/index.html"><strong aria-hidden="true">10.19.</strong> 编程式注入类</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../10.spring_SpringFramework/编程式注入类/AOP代理相关.html"><strong aria-hidden="true">10.19.1.</strong> AOP代理相关</a></li></ol></li></ol></li><li class="chapter-item expanded "><a href="../11.spring_SpringWebMvc/index.html"><strong aria-hidden="true">11.</strong> SpringWebMvc</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../11.spring_SpringWebMvc/URI_Links.html"><strong aria-hidden="true">11.1.</strong> URI_Links</a></li><li class="chapter-item expanded "><a href="../11.spring_SpringWebMvc/functional_endpoints.html"><strong aria-hidden="true">11.2.</strong> functional_endpoints</a></li><li class="chapter-item expanded "><a href="../11.spring_SpringWebMvc/mvcannotation-driven注解的作用.html"><strong aria-hidden="true">11.3.</strong> mvcannotation-driven注解的作用</a></li><li class="chapter-item expanded "><a href="../11.spring_SpringWebMvc/spring-mvc.html"><strong aria-hidden="true">11.4.</strong> spring-mvc</a></li><li class="chapter-item expanded "><a href="../11.spring_SpringWebMvc/springMVC自定义参数解析注解.html"><strong aria-hidden="true">11.5.</strong> springMVC自定义参数解析注解</a></li><li class="chapter-item expanded "><a href="../11.spring_SpringWebMvc/springMVC路径映射.html"><strong aria-hidden="true">11.6.</strong> springMVC路径映射</a></li><li class="chapter-item expanded "><a href="../11.spring_SpringWebMvc/springMVC返回后.html"><strong aria-hidden="true">11.7.</strong> springMVC返回后</a></li><li class="chapter-item expanded "><a href="../11.spring_SpringWebMvc/springMvcController配置.html"><strong aria-hidden="true">11.8.</strong> springMvcController配置</a></li><li class="chapter-item expanded "><a href="../11.spring_SpringWebMvc/内置四种filters.html"><strong aria-hidden="true">11.9.</strong> 内置四种filters</a></li><li class="chapter-item expanded "><a href="../11.spring_SpringWebMvc/基于注解的控制器.html"><strong aria-hidden="true">11.10.</strong> 基于注解的控制器</a></li></ol></li><li class="chapter-item expanded "><a href="../12.spring_SpringBoot/index.html"><strong aria-hidden="true">12.</strong> SpringBoot</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../12.spring_SpringBoot/springBoot资源处理.html"><strong aria-hidden="true">12.1.</strong> springBoot资源处理</a></li><li class="chapter-item expanded "><a href="../12.spring_SpringBoot/springboot-HiKariCP连接池动态数据源配置.html"><strong aria-hidden="true">12.2.</strong> springboot-HiKariCP连接池动态数据源配置</a></li><li class="chapter-item expanded "><a href="../12.spring_SpringBoot/springboot-devtools.html"><strong aria-hidden="true">12.3.</strong> springboot-devtools</a></li><li class="chapter-item expanded "><a href="../12.spring_SpringBoot/springboot-元数据.html"><strong aria-hidden="true">12.4.</strong> springboot-元数据</a></li><li class="chapter-item expanded "><a href="../12.spring_SpringBoot/springboot-多模块.html"><strong aria-hidden="true">12.5.</strong> springboot-多模块</a></li><li class="chapter-item expanded "><a href="../12.spring_SpringBoot/springboot-日志.html"><strong aria-hidden="true">12.6.</strong> springboot-日志</a></li><li class="chapter-item expanded "><a href="../12.spring_SpringBoot/springboot-自动配置原理.html"><strong aria-hidden="true">12.7.</strong> springboot-自动配置原理</a></li><li class="chapter-item expanded "><a href="../12.spring_SpringBoot/springboot-过滤器.html"><strong aria-hidden="true">12.8.</strong> springboot-过滤器</a></li><li class="chapter-item expanded "><a href="../12.spring_SpringBoot/springboot-配置文件与jar分离.html"><strong aria-hidden="true">12.9.</strong> springboot-配置文件与jar分离</a></li><li class="chapter-item expanded "><a href="../12.spring_SpringBoot/快速入门.html"><strong aria-hidden="true">12.10.</strong> 快速入门</a></li><li class="chapter-item expanded "><a href="../12.spring_SpringBoot/自定义springBootStarter.html"><strong aria-hidden="true">12.11.</strong> 自定义springBootStarter</a></li><li class="chapter-item expanded "><div><strong aria-hidden="true">12.12.</strong> springboot配置文件加载</div></li><li><ol class="section"><li class="chapter-item expanded "><a href="../12.spring_SpringBoot/springboot配置文件加载/propertySource原理.html"><strong aria-hidden="true">12.12.1.</strong> propertySource原理</a></li><li class="chapter-item expanded "><a href="../12.spring_SpringBoot/springboot配置文件加载/默认加载原则.html"><strong aria-hidden="true">12.12.2.</strong> 默认加载原则</a></li></ol></li><li class="chapter-item expanded "><div><strong aria-hidden="true">12.13.</strong> 官方文档</div></li><li><ol class="section"><li class="chapter-item expanded "><a href="../12.spring_SpringBoot/官方文档/SpringApplication.html"><strong aria-hidden="true">12.13.1.</strong> SpringApplication</a></li></ol></li></ol></li><li class="chapter-item expanded "><a href="../13.spring_SpringSecurity/index.html"><strong aria-hidden="true">13.</strong> SpringSecurity</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../13.spring_SpringSecurity/spring核心逻辑.html"><strong aria-hidden="true">13.1.</strong> spring核心逻辑</a></li></ol></li><li class="chapter-item expanded "><a href="../14.spring_SpringWebFlux/index.html"><strong aria-hidden="true">14.</strong> SpringWebFlux</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../14.spring_SpringWebFlux/CoreFeatures.html"><strong aria-hidden="true">14.1.</strong> CoreFeatures</a></li><li class="chapter-item expanded "><a href="../14.spring_SpringWebFlux/DispatcherHandler.html"><strong aria-hidden="true">14.2.</strong> DispatcherHandler</a></li><li class="chapter-item expanded "><a href="../14.spring_SpringWebFlux/FunctionEndpoint.html"><strong aria-hidden="true">14.3.</strong> FunctionEndpoint</a></li><li class="chapter-item expanded "><a href="../14.spring_SpringWebFlux/URILinks.html"><strong aria-hidden="true">14.4.</strong> URILinks</a></li><li class="chapter-item expanded "><a href="../14.spring_SpringWebFlux/WebFluxConfig.html"><strong aria-hidden="true">14.5.</strong> WebFluxConfig</a></li><li class="chapter-item expanded "><a href="../14.spring_SpringWebFlux/taskList.html"><strong aria-hidden="true">14.6.</strong> taskList</a></li><li class="chapter-item expanded "><a href="../14.spring_SpringWebFlux/基于注解的控制器/index.html"><strong aria-hidden="true">14.7.</strong> 基于注解的控制器</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../14.spring_SpringWebFlux/基于注解的控制器/HandlerMethod.html"><strong aria-hidden="true">14.7.1.</strong> HandlerMethod</a></li><li class="chapter-item expanded "><a href="../14.spring_SpringWebFlux/基于注解的控制器/RequestMapping.html"><strong aria-hidden="true">14.7.2.</strong> RequestMapping</a></li></ol></li><li class="chapter-item expanded "><a href="../14.spring_SpringWebFlux/源码分析/index.html"><strong aria-hidden="true">14.8.</strong> 源码分析</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../14.spring_SpringWebFlux/源码分析/springBoot创建WebFlux分析.html"><strong aria-hidden="true">14.8.1.</strong> springBoot创建WebFlux分析</a></li></ol></li></ol></li><li class="chapter-item expanded "><a href="../15.spring_SpringCloud/index.html"><strong aria-hidden="true">15.</strong> SpringCloud</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../15.spring_SpringCloud/Ribbon与Feign/index.html"><strong aria-hidden="true">15.1.</strong> Ribbon与Feign</a></li><li class="chapter-item expanded "><div><strong aria-hidden="true">15.2.</strong> 服务注册与发现</div></li><li><ol class="section"><li class="chapter-item expanded "><a href="../15.spring_SpringCloud/服务注册与发现/nacos/index.html"><strong aria-hidden="true">15.2.1.</strong> nacos</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../15.spring_SpringCloud/服务注册与发现/nacos/nacos-with-spring.html"><strong aria-hidden="true">15.2.1.1.</strong> nacos-with-spring</a></li><li class="chapter-item expanded "><a href="../15.spring_SpringCloud/服务注册与发现/nacos/nacos-with-spring-clound.html"><strong aria-hidden="true">15.2.1.2.</strong> nacos-with-spring-clound</a></li></ol></li></ol></li><li class="chapter-item expanded "><div><strong aria-hidden="true">15.3.</strong> 网关</div></li><li><ol class="section"><li class="chapter-item expanded "><a href="../15.spring_SpringCloud/网关/springCloudGateway/index.html"><strong aria-hidden="true">15.3.1.</strong> springCloudGateway</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../15.spring_SpringCloud/网关/springCloudGateway/springCloud中的构造者模式.html"><strong aria-hidden="true">15.3.1.1.</strong> springCloud中的构造者模式</a></li></ol></li></ol></li></ol></li><li class="chapter-item expanded "><a href="../16.spring_SpringCache/index.html"><strong aria-hidden="true">16.</strong> SpringCache</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../16.spring_SpringCache/1.基于申明式缓存.html"><strong aria-hidden="true">16.1.</strong> 基于申明式缓存</a></li><li class="chapter-item expanded "><a href="../16.spring_SpringCache/2.JCacheAnnotations.html"><strong aria-hidden="true">16.2.</strong> JCacheAnnotations</a></li><li class="chapter-item expanded "><a href="../16.spring_SpringCache/3.XML的申明式缓存.html"><strong aria-hidden="true">16.3.</strong> XML的申明式缓存</a></li><li class="chapter-item expanded "><a href="../16.spring_SpringCache/4.配置缓存库.html"><strong aria-hidden="true">16.4.</strong> 配置缓存库</a></li></ol></li><li class="chapter-item expanded "><a href="../17.spring_SpringDataRedis/index.html"><strong aria-hidden="true">17.</strong> SpringDataRedis</a></li><li class="chapter-item expanded affix "><li class="part-title"></li><li class="chapter-item expanded "><a href="../18.响应式编程/index.html"><strong aria-hidden="true">18.</strong> 响应式编程</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../18.响应式编程/ProjectReactor/index.html"><strong aria-hidden="true">18.1.</strong> ProjectReactor</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../18.响应式编程/ProjectReactor/创建发布者.html"><strong aria-hidden="true">18.1.1.</strong> 创建发布者</a></li><li class="chapter-item expanded "><a href="../18.响应式编程/ProjectReactor/创建订阅.html"><strong aria-hidden="true">18.1.2.</strong> 创建订阅</a></li><li class="chapter-item expanded "><a href="../18.响应式编程/ProjectReactor/响应式流的动作.html"><strong aria-hidden="true">18.1.3.</strong> 响应式流的动作</a></li><li class="chapter-item expanded "><a href="../18.响应式编程/ProjectReactor/选择合适的操作符.html"><strong aria-hidden="true">18.1.4.</strong> 选择合适的操作符</a></li><li class="chapter-item expanded "><a href="../18.响应式编程/ProjectReactor/core-features/index.html"><strong aria-hidden="true">18.1.5.</strong> core-features</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../18.响应式编程/ProjectReactor/core-features/FluxAndMono.html"><strong aria-hidden="true">18.1.5.1.</strong> FluxAndMono</a></li><li class="chapter-item expanded "><a href="../18.响应式编程/ProjectReactor/core-features/ProcessorOrSinks.html"><strong aria-hidden="true">18.1.5.2.</strong> ProcessorOrSinks</a></li><li class="chapter-item expanded "><a href="../18.响应式编程/ProjectReactor/core-features/线程和调度.html"><strong aria-hidden="true">18.1.5.3.</strong> 线程和调度</a></li><li class="chapter-item expanded "><a href="../18.响应式编程/ProjectReactor/core-features/编程式创建序列.html"><strong aria-hidden="true">18.1.5.4.</strong> 编程式创建序列</a></li><li class="chapter-item expanded "><a href="../18.响应式编程/ProjectReactor/core-features/错误处理.html"><strong aria-hidden="true">18.1.5.5.</strong> 错误处理</a></li></ol></li></ol></li></ol></li><li class="chapter-item expanded "><a href="../19.日志/index.html"><strong aria-hidden="true">19.</strong> 日志</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../19.日志/JUL.html"><strong aria-hidden="true">19.1.</strong> JUL</a></li><li class="chapter-item expanded "><a href="../19.日志/SL4j.html"><strong aria-hidden="true">19.2.</strong> SL4j</a></li><li class="chapter-item expanded "><a href="../19.日志/日志处理进化史.html"><strong aria-hidden="true">19.3.</strong> 日志处理进化史</a></li><li class="chapter-item expanded "><a href="../19.日志/log4j2/index.html"><strong aria-hidden="true">19.4.</strong> log4j2</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../19.日志/log4j2/Log4j2API.html"><strong aria-hidden="true">19.4.1.</strong> Log4j2API</a></li><li class="chapter-item expanded "><a href="../19.日志/log4j2/log4j2-web.html"><strong aria-hidden="true">19.4.2.</strong> log4j2-web</a></li><li class="chapter-item expanded "><a href="../19.日志/log4j2/lookups.html"><strong aria-hidden="true">19.4.3.</strong> lookups</a></li><li class="chapter-item expanded "><a href="../19.日志/log4j2/依赖管理.html"><strong aria-hidden="true">19.4.4.</strong> 依赖管理</a></li><li class="chapter-item expanded "><a href="../19.日志/log4j2/appenders/index.html"><strong aria-hidden="true">19.4.5.</strong> appenders</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../19.日志/log4j2/appenders/AsyncAppender.html"><strong aria-hidden="true">19.4.5.1.</strong> AsyncAppender</a></li><li class="chapter-item expanded "><a href="../19.日志/log4j2/appenders/CassandraAppender.html"><strong aria-hidden="true">19.4.5.2.</strong> CassandraAppender</a></li><li class="chapter-item expanded "><a href="../19.日志/log4j2/appenders/ConsoleAppender.html"><strong aria-hidden="true">19.4.5.3.</strong> ConsoleAppender</a></li><li class="chapter-item expanded "><a href="../19.日志/log4j2/appenders/FailoverAppender.html"><strong aria-hidden="true">19.4.5.4.</strong> FailoverAppender</a></li><li class="chapter-item expanded "><a href="../19.日志/log4j2/appenders/FileAppender.html"><strong aria-hidden="true">19.4.5.5.</strong> FileAppender</a></li><li class="chapter-item expanded "><a href="../19.日志/log4j2/appenders/JDBCAppender.html"><strong aria-hidden="true">19.4.5.6.</strong> JDBCAppender</a></li><li class="chapter-item expanded "><a href="../19.日志/log4j2/appenders/OutputStreamAppender.html"><strong aria-hidden="true">19.4.5.7.</strong> OutputStreamAppender</a></li><li class="chapter-item expanded "><a href="../19.日志/log4j2/appenders/RandomAccessFileAppender.html"><strong aria-hidden="true">19.4.5.8.</strong> RandomAccessFileAppender</a></li><li class="chapter-item expanded "><a href="../19.日志/log4j2/appenders/RewriteAppender.html"><strong aria-hidden="true">19.4.5.9.</strong> RewriteAppender</a></li><li class="chapter-item expanded "><a href="../19.日志/log4j2/appenders/RollingFileAppender.html"><strong aria-hidden="true">19.4.5.10.</strong> RollingFileAppender</a></li><li class="chapter-item expanded "><a href="../19.日志/log4j2/appenders/RollingRandomAccessFileAppender.html"><strong aria-hidden="true">19.4.5.11.</strong> RollingRandomAccessFileAppender</a></li><li class="chapter-item expanded "><a href="../19.日志/log4j2/appenders/RoutingAppender.html"><strong aria-hidden="true">19.4.5.12.</strong> RoutingAppender</a></li></ol></li><li class="chapter-item expanded "><a href="../19.日志/log4j2/layouts/index.html"><strong aria-hidden="true">19.4.6.</strong> layouts</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../19.日志/log4j2/layouts/CSVLayouts.html"><strong aria-hidden="true">19.4.6.1.</strong> CSVLayouts</a></li><li class="chapter-item expanded "><a href="../19.日志/log4j2/layouts/HTMLayouts.html"><strong aria-hidden="true">19.4.6.2.</strong> HTMLayouts</a></li><li class="chapter-item expanded "><a href="../19.日志/log4j2/layouts/JSONLayout.html"><strong aria-hidden="true">19.4.6.3.</strong> JSONLayout</a></li><li class="chapter-item expanded "><a href="../19.日志/log4j2/layouts/JSONTemplateLayouts.html"><strong aria-hidden="true">19.4.6.4.</strong> JSONTemplateLayouts</a></li><li class="chapter-item expanded "><a href="../19.日志/log4j2/layouts/PatternLayout.html"><strong aria-hidden="true">19.4.6.5.</strong> PatternLayout</a></li></ol></li><li class="chapter-item expanded "><a href="../19.日志/log4j2/log4j2配置/index.html"><strong aria-hidden="true">19.4.7.</strong> log4j2配置</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../19.日志/log4j2/log4j2配置/高级配置.html"><strong aria-hidden="true">19.4.7.1.</strong> 高级配置</a></li></ol></li></ol></li></ol></li><li class="chapter-item expanded "><div><strong aria-hidden="true">20.</strong> 设计模式</div></li><li><ol class="section"><li class="chapter-item expanded "><a href="../20.设计模式/PipeLine.html"><strong aria-hidden="true">20.1.</strong> PipeLine</a></li></ol></li><li class="chapter-item expanded "><a href="../22.Maven/index.html"><strong aria-hidden="true">21.</strong> Maven</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../22.Maven/AutoConfig插件.html"><strong aria-hidden="true">21.1.</strong> AutoConfig插件</a></li><li class="chapter-item expanded "><a href="../22.Maven/MavenArcheType.html"><strong aria-hidden="true">21.2.</strong> MavenArcheType</a></li><li class="chapter-item expanded "><a href="../22.Maven/maven.html"><strong aria-hidden="true">21.3.</strong> maven</a></li><li class="chapter-item expanded "><a href="../22.Maven/maven-Maven_Resources_Plugin.html"><strong aria-hidden="true">21.4.</strong> maven-Maven_Resources_Plugin</a></li><li class="chapter-item expanded "><a href="../22.Maven/maven-archiver.html"><strong aria-hidden="true">21.5.</strong> maven-archiver</a></li><li class="chapter-item expanded "><a href="../22.Maven/maven-assembly-plugin.html"><strong aria-hidden="true">21.6.</strong> maven-assembly-plugin</a></li><li class="chapter-item expanded "><a href="../22.Maven/maven-bom.html"><strong aria-hidden="true">21.7.</strong> maven-bom</a></li><li class="chapter-item expanded "><a href="../22.Maven/maven-profile.html"><strong aria-hidden="true">21.8.</strong> maven-profile</a></li><li class="chapter-item expanded "><a href="../22.Maven/maven-依赖管理.html"><strong aria-hidden="true">21.9.</strong> maven-依赖管理</a></li><li class="chapter-item expanded "><a href="../22.Maven/maven-编译源码.html"><strong aria-hidden="true">21.10.</strong> maven-编译源码</a></li><li class="chapter-item expanded "><a href="../22.Maven/maven中的生命周期、插件、目标.html"><strong aria-hidden="true">21.11.</strong> maven中的生命周期、插件、目标</a></li><li class="chapter-item expanded "><a href="../22.Maven/maven打包方式.html"><strong aria-hidden="true">21.12.</strong> maven打包方式</a></li><li class="chapter-item expanded "><a href="../22.Maven/maven聚合项目版本管理实践.html"><strong aria-hidden="true">21.13.</strong> maven聚合项目版本管理实践</a></li></ol></li><li class="chapter-item expanded "><a href="../23.IO/index.html"><strong aria-hidden="true">22.</strong> IO</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../23.IO/Buffer.html"><strong aria-hidden="true">22.1.</strong> Buffer</a></li><li class="chapter-item expanded "><a href="../23.IO/Channel.html"><strong aria-hidden="true">22.2.</strong> Channel</a></li><li class="chapter-item expanded "><a href="../23.IO/LinuxIO模型演变.html"><strong aria-hidden="true">22.3.</strong> LinuxIO模型演变</a></li><li class="chapter-item expanded "><a href="../23.IO/Selector（选择器）.html"><strong aria-hidden="true">22.4.</strong> Selector（选择器）</a></li><li class="chapter-item expanded "><a href="../23.IO/主流IO模型.html"><strong aria-hidden="true">22.5.</strong> 主流IO模型</a></li><li class="chapter-item expanded "><a href="../23.IO/从IO到NIO个人理解.html"><strong aria-hidden="true">22.6.</strong> 从IO到NIO个人理解</a></li><li class="chapter-item expanded "><a href="../23.IO/字符集.html"><strong aria-hidden="true">22.7.</strong> 字符集</a></li><li class="chapter-item expanded "><a href="../23.IO/FileIO(NIO-2.0)/index.html"><strong aria-hidden="true">22.8.</strong> FileIO(NIO-2.0)</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../23.IO/FileIO(NIO-2.0)/LinksSymbolicOtherwise.html"><strong aria-hidden="true">22.8.1.</strong> LinksSymbolicOtherwise</a></li><li class="chapter-item expanded "><a href="../23.IO/FileIO(NIO-2.0)/RandomAccessFiles.html"><strong aria-hidden="true">22.8.2.</strong> RandomAccessFiles</a></li><li class="chapter-item expanded "><a href="../23.IO/FileIO(NIO-2.0)/传统IO与NIO的API迁移.html"><strong aria-hidden="true">22.8.3.</strong> 传统IO与NIO的API迁移</a></li><li class="chapter-item expanded "><a href="../23.IO/FileIO(NIO-2.0)/元数据管理.html"><strong aria-hidden="true">22.8.4.</strong> 元数据管理</a></li><li class="chapter-item expanded "><a href="../23.IO/FileIO(NIO-2.0)/其他有用方法.html"><strong aria-hidden="true">22.8.5.</strong> 其他有用方法</a></li><li class="chapter-item expanded "><a href="../23.IO/FileIO(NIO-2.0)/开发自定义文件系统.html"><strong aria-hidden="true">22.8.6.</strong> 开发自定义文件系统</a></li><li class="chapter-item expanded "><a href="../23.IO/FileIO(NIO-2.0)/文件查找.html"><strong aria-hidden="true">22.8.7.</strong> 文件查找</a></li><li class="chapter-item expanded "><a href="../23.IO/FileIO(NIO-2.0)/文件管理.html"><strong aria-hidden="true">22.8.8.</strong> 文件管理</a></li><li class="chapter-item expanded "><a href="../23.IO/FileIO(NIO-2.0)/文件读写.html"><strong aria-hidden="true">22.8.9.</strong> 文件读写</a></li><li class="chapter-item expanded "><a href="../23.IO/FileIO(NIO-2.0)/监控目录变化.html"><strong aria-hidden="true">22.8.10.</strong> 监控目录变化</a></li><li class="chapter-item expanded "><a href="../23.IO/FileIO(NIO-2.0)/目录管理.html"><strong aria-hidden="true">22.8.11.</strong> 目录管理</a></li><li class="chapter-item expanded "><a href="../23.IO/FileIO(NIO-2.0)/路径操作.html"><strong aria-hidden="true">22.8.12.</strong> 路径操作</a></li><li class="chapter-item expanded "><a href="../23.IO/FileIO(NIO-2.0)/遍历目录树.html"><strong aria-hidden="true">22.8.13.</strong> 遍历目录树</a></li></ol></li></ol></li><li class="chapter-item expanded "><a href="../24.Servlet规范/index.html"><strong aria-hidden="true">23.</strong> Servlet规范</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../24.Servlet规范/fitler.html"><strong aria-hidden="true">23.1.</strong> fitler</a></li><li class="chapter-item expanded "><a href="../24.Servlet规范/httpServlet接口.html"><strong aria-hidden="true">23.2.</strong> httpServlet接口</a></li><li class="chapter-item expanded "><a href="../24.Servlet规范/request.html"><strong aria-hidden="true">23.3.</strong> request</a></li><li class="chapter-item expanded "><a href="../24.Servlet规范/response.html"><strong aria-hidden="true">23.4.</strong> response</a></li><li class="chapter-item expanded "><a href="../24.Servlet规范/servletContext.html"><strong aria-hidden="true">23.5.</strong> servletContext</a></li><li class="chapter-item expanded "><a href="../24.Servlet规范/servlet初始化.html"><strong aria-hidden="true">23.6.</strong> servlet初始化</a></li><li class="chapter-item expanded "><a href="../24.Servlet规范/session.html"><strong aria-hidden="true">23.7.</strong> session</a></li><li class="chapter-item expanded "><a href="../24.Servlet规范/入门.html"><strong aria-hidden="true">23.8.</strong> 入门</a></li><li class="chapter-item expanded "><a href="../24.Servlet规范/注解与可插拔.html"><strong aria-hidden="true">23.9.</strong> 注解与可插拔</a></li></ol></li><li class="chapter-item expanded "><li class="part-title">单元测试</li><li class="chapter-item expanded "><a href="../21.单元测试_JUNIT5/index.html"><strong aria-hidden="true">24.</strong> JUNIT5</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../21.单元测试_JUNIT5/ConsoleLaunch.html"><strong aria-hidden="true">24.1.</strong> ConsoleLaunch</a></li><li class="chapter-item expanded "><a href="../21.单元测试_JUNIT5/DependencyMetadata.html"><strong aria-hidden="true">24.2.</strong> DependencyMetadata</a></li><li class="chapter-item expanded "><div><strong aria-hidden="true">24.3.</strong> writtingTest</div></li><li><ol class="section"><li class="chapter-item expanded "><a href="../21.单元测试_JUNIT5/writtingTest/Annotations.html"><strong aria-hidden="true">24.3.1.</strong> Annotations</a></li></ol></li></ol></li><li class="chapter-item expanded "><li class="part-title">ORM</li><li class="chapter-item expanded "><div><strong aria-hidden="true">25.</strong> MyBatis</div></li><li><ol class="section"><li class="chapter-item expanded "><a href="../25.ORM_MyBatis/mybatis.html"><strong aria-hidden="true">25.1.</strong> mybatis</a></li><li class="chapter-item expanded "><a href="../25.ORM_MyBatis/mybatis-插件开发.html"><strong aria-hidden="true">25.2.</strong> mybatis-插件开发</a></li><li class="chapter-item expanded "><a href="../25.ORM_MyBatis/mybatis标签.html"><strong aria-hidden="true">25.3.</strong> mybatis标签</a></li><li class="chapter-item expanded "><a href="../25.ORM_MyBatis/resultHandler.html"><strong aria-hidden="true">25.4.</strong> resultHandler</a></li><li class="chapter-item expanded "><a href="../25.ORM_MyBatis/多结果集分页.html"><strong aria-hidden="true">25.5.</strong> 多结果集分页</a></li></ol></li><li class="chapter-item expanded "><a href="../26.ORM_JPA/index.html"><strong aria-hidden="true">26.</strong> JPA</a></li><li class="chapter-item expanded affix "><li class="part-title">鉴权</li><li class="chapter-item expanded "><div><strong aria-hidden="true">27.</strong> Shiro</div></li><li><ol class="section"><li class="chapter-item expanded "><a href="../27.鉴权_Shiro/shiro频繁访问redis.html"><strong aria-hidden="true">27.1.</strong> shiro频繁访问redis</a></li></ol></li><li class="chapter-item expanded "><li class="part-title">其他</li><li class="chapter-item expanded "><a href="../28.其他_Security/index.html"><strong aria-hidden="true">28.</strong> Security</a></li><li class="chapter-item expanded "><a href="../29.其他_JSR/index.html"><strong aria-hidden="true">29.</strong> JSR</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../29.其他_JSR/jar包规范.html"><strong aria-hidden="true">29.1.</strong> jar包规范</a></li></ol></li><li class="chapter-item expanded "><div><strong aria-hidden="true">30.</strong> JMH</div></li><li><ol class="section"><li class="chapter-item expanded "><a href="../30.其他_JMH/java基准测试.html"><strong aria-hidden="true">30.1.</strong> java基准测试</a></li></ol></li><li class="chapter-item expanded "><div><strong aria-hidden="true">31.</strong> JavaCommandLine</div></li><li><ol class="section"><li class="chapter-item expanded "><a href="../31.其他_JavaCommandLine/JAVA命令行工具.html"><strong aria-hidden="true">31.1.</strong> JAVA命令行工具</a></li></ol></li><li class="chapter-item expanded "><div><strong aria-hidden="true">32.</strong> 分布式与微服务</div></li><li><ol class="section"><li class="chapter-item expanded "><a href="../32.其他_分布式与微服务/JWT无状态Session.html" class="active"><strong aria-hidden="true">32.1.</strong> JWT无状态Session</a></li><li class="chapter-item expanded "><a href="../32.其他_分布式与微服务/一致性Hash.html"><strong aria-hidden="true">32.2.</strong> 一致性Hash</a></li><li class="chapter-item expanded "><a href="../32.其他_分布式与微服务/分布式ID.html"><strong aria-hidden="true">32.3.</strong> 分布式ID</a></li><li class="chapter-item expanded "><a href="../32.其他_分布式与微服务/分布式Session案.html"><strong aria-hidden="true">32.4.</strong> 分布式Session案</a></li><li class="chapter-item expanded "><a href="../32.其他_分布式与微服务/分布式事务.html"><strong aria-hidden="true">32.5.</strong> 分布式事务</a></li><li class="chapter-item expanded "><a href="../32.其他_分布式与微服务/分布式协调器-Zookeeper.html"><strong aria-hidden="true">32.6.</strong> 分布式协调器-Zookeeper</a></li><li class="chapter-item expanded "><a href="../32.其他_分布式与微服务/分布式锁.html"><strong aria-hidden="true">32.7.</strong> 分布式锁</a></li><li class="chapter-item expanded "><a href="../32.其他_分布式与微服务/接口幂等性.html"><strong aria-hidden="true">32.8.</strong> 接口幂等性</a></li><li class="chapter-item expanded "><a href="../32.其他_分布式与微服务/负载均衡.html"><strong aria-hidden="true">32.9.</strong> 负载均衡</a></li></ol></li><li class="chapter-item expanded "><div><strong aria-hidden="true">33.</strong> 未分类</div></li><li><ol class="section"><li class="chapter-item expanded "><a href="../50.其他_未分类/EasyRules.html"><strong aria-hidden="true">33.1.</strong> EasyRules</a></li><li class="chapter-item expanded "><a href="../50.其他_未分类/JavaLocalDate.html"><strong aria-hidden="true">33.2.</strong> JavaLocalDate</a></li><li class="chapter-item expanded "><a href="../50.其他_未分类/JavaSPI.html"><strong aria-hidden="true">33.3.</strong> JavaSPI</a></li><li class="chapter-item expanded "><a href="../50.其他_未分类/JavaUnsafe类.html"><strong aria-hidden="true">33.4.</strong> JavaUnsafe类</a></li><li class="chapter-item expanded "><a href="../50.其他_未分类/Java异常.html"><strong aria-hidden="true">33.5.</strong> Java异常</a></li><li class="chapter-item expanded "><a href="../50.其他_未分类/Java泛型的协变与逆变.html"><strong aria-hidden="true">33.6.</strong> Java泛型的协变与逆变</a></li><li class="chapter-item expanded "><a href="../50.其他_未分类/PO、VO、BO.html"><strong aria-hidden="true">33.7.</strong> PO、VO、BO</a></li><li class="chapter-item expanded "><a href="../50.其他_未分类/WeakCache.html"><strong aria-hidden="true">33.8.</strong> WeakCache</a></li><li class="chapter-item expanded "><a href="../50.其他_未分类/apacheUtils类.html"><strong aria-hidden="true">33.9.</strong> apacheUtils类</a></li><li class="chapter-item expanded "><a href="../50.其他_未分类/foreach语法糖.html"><strong aria-hidden="true">33.10.</strong> foreach语法糖</a></li><li class="chapter-item expanded "><a href="../50.其他_未分类/formatter.html"><strong aria-hidden="true">33.11.</strong> formatter</a></li><li class="chapter-item expanded "><a href="../50.其他_未分类/integer的比较问题.html"><strong aria-hidden="true">33.12.</strong> integer的比较问题</a></li><li class="chapter-item expanded "><a href="../50.其他_未分类/javaIdea调试.html"><strong aria-hidden="true">33.13.</strong> javaIdea调试</a></li><li class="chapter-item expanded "><a href="../50.其他_未分类/javaPererences工具.html"><strong aria-hidden="true">33.14.</strong> javaPererences工具</a></li><li class="chapter-item expanded "><a href="../50.其他_未分类/java中常见的语法糖.html"><strong aria-hidden="true">33.15.</strong> java中常见的语法糖</a></li><li class="chapter-item expanded "><a href="../50.其他_未分类/java优化指南.html"><strong aria-hidden="true">33.16.</strong> java优化指南</a></li><li class="chapter-item expanded "><a href="../50.其他_未分类/java各版本新特性.html"><strong aria-hidden="true">33.17.</strong> java各版本新特性</a></li><li class="chapter-item expanded "><a href="../50.其他_未分类/java序列化接口.html"><strong aria-hidden="true">33.18.</strong> java序列化接口</a></li><li class="chapter-item expanded "><a href="../50.其他_未分类/java模块化.html"><strong aria-hidden="true">33.19.</strong> java模块化</a></li><li class="chapter-item expanded "><a href="../50.其他_未分类/jdk1.8新特性.html"><strong aria-hidden="true">33.20.</strong> jdk1.8新特性</a></li><li class="chapter-item expanded "><a href="../50.其他_未分类/jdk与jre.html"><strong aria-hidden="true">33.21.</strong> jdk与jre</a></li><li class="chapter-item expanded "><a href="../50.其他_未分类/string常量池.html"><strong aria-hidden="true">33.22.</strong> string常量池</a></li><li class="chapter-item expanded "><a href="../50.其他_未分类/threadLocal.html"><strong aria-hidden="true">33.23.</strong> threadLocal</a></li><li class="chapter-item expanded "><a href="../50.其他_未分类/代码异味.html"><strong aria-hidden="true">33.24.</strong> 代码异味</a></li><li class="chapter-item expanded "><a href="../50.其他_未分类/基于jdk1.8的Arrays.sort.html"><strong aria-hidden="true">33.25.</strong> 基于jdk1.8的Arrays.sort</a></li><li class="chapter-item expanded "><a href="../50.其他_未分类/枚举.html"><strong aria-hidden="true">33.26.</strong> 枚举</a></li><li class="chapter-item expanded "><a href="../50.其他_未分类/注解.html"><strong aria-hidden="true">33.27.</strong> 注解</a></li><li class="chapter-item expanded "><a href="../50.其他_未分类/类的关系.html"><strong aria-hidden="true">33.28.</strong> 类的关系</a></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title"></h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="传统的session认证"><a class="header" href="#传统的session认证">传统的session认证</a></h1>
<p>​	Http协议本身是一种无状态的协议,这就意味者,如果用户向我们的应用提供了用户和密码进行认证,那么下一次请求,用户还要再进行一次认证才行</p>
<p>​	所以为了让我们的应用能识别是哪个用户发出的请求,我们只能在服务存储一份用户登录信息,这份登录信息会在响应时传递给浏览器,告诉其保存为cookie,以便下次请求时发送给我们的应用,这个cookie也就是sessionId,这就是传统的基于session认证</p>
<h1 id="基于session认证所显露的问题"><a class="header" href="#基于session认证所显露的问题">基于session认证所显露的问题</a></h1>
<ul>
<li>用户过多服务端内存开销变大</li>
<li>在分布式的应用中,需要第三方组件同步session(例如 Redis)</li>
<li>CSRF:如果cookie被截获,用户就会容易遭受跨站请求伪造</li>
</ul>
<h1 id="基于token的鉴权机制"><a class="header" href="#基于token的鉴权机制">基于token的鉴权机制</a></h1>
<h2 id="什么是jwt"><a class="header" href="#什么是jwt">什么是JWT</a></h2>
<ul>
<li>
<p>JWT是 存有用户及其登陆信息的 json字符串</p>
</li>
<li>
<p>jwt将 以前 基于服务端的session认证  改成 基于jwt自身的认证( 即服务端接收到一个)</p>
</li>
<li>
<p>jwt 使用摘要算法,保证 header,跟payload 没有被篡改,也就保证了该token的合法性</p>
</li>
<li>
<p>但jwt没有保证 传输的 加密性, 在通信过程中可能被窃取</p>
</li>
</ul>
<h2 id="token认证流程"><a class="header" href="#token认证流程">token认证流程</a></h2>
<ul>
<li>用户使用用户名密码来请求服务器</li>
<li>服务器进行验证用户的信息</li>
<li>服务器通过验证发送给用户一个token</li>
<li>客户端存储token，并在每次请求时附送上这个token值</li>
<li>服务端验证token值，并返回数据</li>
</ul>
<p>这个token必须要在每次请求时传递给服务端，它应该保存在请求头里， 另外，服务端要支持<code>CORS(跨来源资源共享)</code>策略，一般我们在服务端这么做就可以了<code>Access-Control-Allow-Origin: *</code>。</p>
<h2 id="token解析流程"><a class="header" href="#token解析流程">Token解析流程</a></h2>
<ol>
<li>服务收到token之后 首先判断该token有没有被人篡改
<ol>
<li>取 header跟 payload 跟服务端保存的 secret ,使用header中的签名算法做一次签名</li>
<li>然后与token中的  signature部分 对比,一致则认为没有被篡改</li>
<li>取 payload 中的 到期日期,判断token是否过期</li>
</ol>
</li>
</ol>
<h2 id="jwt的构成"><a class="header" href="#jwt的构成">JWT的构成</a></h2>
<h3 id="header"><a class="header" href="#header">header</a></h3>
<p>jwt的头部承载两部分信息：</p>
<ul>
<li>声明类型，这里是jwt</li>
<li>声明签名算法 通常直接使用 HMAC SHA256</li>
<li>示例</li>
</ul>
<pre><code>{
  'typ': 'JWT',
  'alg': 'HS256'
}
</code></pre>
<p>然后将头部进行base64加密（该加密是可以对称解密的),构成了第一部分.</p>
<h3 id="playload"><a class="header" href="#playload">playload</a></h3>
<p>存放有效信息的地方</p>
<ul>
<li>标准中注册的声明</li>
<li>公共的声明</li>
<li>私有的声明</li>
</ul>
<p><strong>标准中注册的声明</strong> (建议但不强制使用) ：</p>
<ul>
<li><strong>iss</strong>: jwt签发者</li>
<li><strong>sub</strong>: jwt所面向的用户</li>
<li><strong>aud</strong>: 接收jwt的一方</li>
<li><strong>exp</strong>: jwt的过期时间，这个过期时间必须要大于签发时间</li>
<li><strong>nbf</strong>: 定义在什么时间之前，该jwt都是不可用的.</li>
<li><strong>iat</strong>: jwt的签发时间</li>
</ul>
<p><strong>公共的声明</strong> ：
公共的声明可以添加任何的信息，一般添加用户的相关信息或其他业务需要的必要信息.但不建议添加敏感信息，因为该部分在客户端可解密.</p>
<p><strong>私有的声明</strong> ：
私有声明是提供者和消费者所共同定义的声明，不要存放敏感信息,因为token。</p>
<pre><code class="language-json">{
  &quot;sub&quot;: &quot;1234567890&quot;,
  &quot;name&quot;: &quot;John Doe&quot;,
  &quot;admin&quot;: true
}
</code></pre>
<p>然后将其进行base64加密，得到Jwt的第二部分。</p>
<h3 id="signature"><a class="header" href="#signature">signature</a></h3>
<p>jwt的第三部分是一个签证信息，这个签证信息由三部分组成：</p>
<ul>
<li>header (base64后的)</li>
<li>payload (base64后的)</li>
<li>secret</li>
</ul>
<p>这个部分需要base64编码的header和base64编码的payload使用<code>.</code>连接组成的字符串，然后通过header中声明的签名方式进行加盐<code>secret</code>，然后就构成了jwt的第三部分。</p>
<pre><code class="language-csharp">// javascript
var encodedString = base64UrlEncode(header) + '.' + base64UrlEncode(payload);

var signature = HMACSHA256(encodedString, 'secret'); // TJVA95OrM7E2cBab30RMHrHDcEfxjoYZgeFONFh7HgQ
</code></pre>
<p>注意：secret是保存在服务器端的，jwt的签发生成也是在服务器端的，secret就是用来进行jwt的签发和jwt的验证，所以，它就是你服务端的私钥，在任何场景都不应该流露出去。一旦客户端得知这个secret, 那就意味着客户端是可以自我签发jwt了。</p>
<p>JWT的应用</p>
<pre><code class="language-bash">fetch('api/user/1', {
  headers: {
    'Authorization': 'Bearer ' + token
  }
})
</code></pre>
<h2 id="base64url算法"><a class="header" href="#base64url算法">Base64URL算法</a></h2>
<p>如前所述，JWT头和有效载荷序列化的算法都用到了Base64URL。该算法和常见Base64算法类似，稍有差别。</p>
<p>作为令牌的JWT可以放在URL中（例如api.example/?token=xxx）。 Base64中用的三个字符是&quot;+&quot;，&quot;/&quot;和&quot;=&quot;，由于在URL中有特殊含义，因此Base64URL中对他们做了替换：&quot;=&quot;去掉，&quot;+&quot;用&quot;-&quot;替换，&quot;/&quot;用&quot;_&quot;替换，这就是Base64URL算法，很简单把。</p>
<h1 id="jwt的使用场景"><a class="header" href="#jwt的使用场景">JWT的使用场景</a></h1>
<h2 id="一次性验证"><a class="header" href="#一次性验证">一次性验证</a></h2>
<p>比如用户注册后需要发一封邮件让其激活账户，通常邮件中需要有一个链接，这个链接需要具备以下的特性：能够标识用户，该链接具有时效性（通常只允许几小时之内激活），不能被篡改以激活其他可能的账户…这种场景就和 jwt 的特性非常贴近，jwt 的 payload 中固定的参数：iss 签发者和 exp 过期时间正是为其做准备的。</p>
<h2 id="restful-api-的无状态认证"><a class="header" href="#restful-api-的无状态认证">restful api 的无状态认证</a></h2>
<p>​	使用 jwt 来做 restful api 的身份认证也是值得推崇的一种使用方案。客户端和服务端共享 secret；过期时间由服务端校验，客户端定时刷新；签名信息不可被修改…spring security oauth jwt 提供了一套完整的 jwt 认证体系，以笔者的经验来看：使用 oauth2 或 jwt 来做 restful api 的认证都没有大问题，oauth2 功能更多，支持的场景更丰富，后者实现简单。</p>
<h1 id="jwt的局限"><a class="header" href="#jwt的局限">JWT的局限</a></h1>
<h2 id="注销"><a class="header" href="#注销">注销</a></h2>
<p>传统的 session+cookie 方案用户点击注销，服务端清空 session 即可，因为状态保存在服务端。但 jwt 的方案就比较难办了，因为 jwt 是无状态的，服务端通过计算来校验有效性。没有存储起来，所以即使客户端删除了 jwt，但是该 jwt 还是在有效期内，只不过处于一个游离状态。分析下痛点：注销变得复杂的原因在于 jwt 的无状态。我提供几个方案，视具体的业务来决定能不能接受。</p>
<ul>
<li>仅仅清空客户端的 cookie，这样用户访问时就不会携带 jwt，服务端就认为用户需要重新登录。这是一个典型的假注销，对于用户表现出退出的行为，实际上这个时候携带对应的 jwt 依旧可以访问系统。</li>
<li>清空或修改服务端的用户对应的 secret，这样在用户注销后，jwt 本身不变，但是由于 secret 不存在或改变，则无法完成校验。这也是为什么将 secret 设计成和用户相关的原因。</li>
<li>借助第三方存储自己管理 jwt 的状态，可以以 jwt 为 key，实现去 redis 一类的缓存中间件中去校验存在性。方案设计并不难，但是引入 redis 之后，就把无状态的 jwt 硬生生变成了有状态了，违背了 jwt 的初衷。实际上这个方案和 session 都差不多了。</li>
</ul>
<h3 id="修改密码"><a class="header" href="#修改密码">修改密码</a></h3>
<p>修改密码则略微有些不同，假设号被到了，修改密码（是用户密码，不是 jwt 的 secret）之后，盗号者在原 jwt 有效期之内依旧可以继续访问系统，所以仅仅清空 cookie 自然是不够的，这时，需要强制性的修改 secret。在我的实践中就是这样做的。</p>
<h3 id="续签问题"><a class="header" href="#续签问题">续签问题</a></h3>
<p>续签问题可以说是我抵制使用 jwt 来代替传统 session 的最大原因，因为 jwt 的设计中我就没有发现它将续签认为是自身的一个特性。传统的 cookie 续签方案一般都是框架自带的，session 有效期 30 分钟，30 分钟内如果有访问，session 有效期被刷新至 30 分钟。而 jwt 本身的 payload 之中也有一个 exp 过期时间参数，来代表一个 jwt 的时效性，而 jwt 想延期这个 exp 就有点身不由己了，因为 payload 是参与签名的，一旦过期时间被修改，整个 jwt 串就变了，jwt 的特性天然不支持续签！ 如果你一定要使用 jwt 做会话管理（payload 中存储会话信息），也不是没有解决方案，但个人认为都不是很令人满意</p>
<h4 id="1每次请求刷新-jwt"><a class="header" href="#1每次请求刷新-jwt">1.每次请求刷新 jwt</a></h4>
<p>jwt 修改 payload 中的 exp 后整个 jwt 串就会发生改变，那…就让它变好了，每次请求都返回一个新的 jwt 给客户端。太暴力了，不用我赘述这样做是多么的不优雅，以及带来的性能问题。但，至少这是最简单的解决方案。</p>
<h4 id="2只要快要过期的时候刷新-jwt"><a class="header" href="#2只要快要过期的时候刷新-jwt">2.只要快要过期的时候刷新 jwt</a></h4>
<p>一个上述方案的改造点是，只在最后的几分钟返回给客户端一个新的 jwt。这样做，触发刷新 jwt 基本就要看运气了，如果用户恰巧在最后几分钟访问了服务器，触发了刷新，万事大吉；如果用户连续操作了 27 分钟，只有最后的 3 分钟没有操作，导致未刷新 jwt，无疑会令用户抓狂。</p>
<h4 id="3完善-refreshtoken"><a class="header" href="#3完善-refreshtoken">3.完善 refreshToken</a></h4>
<p>借鉴 oauth2 的设计，返回给客户端一个 refreshToken，允许客户端主动刷新 jwt。一般而言，jwt 的过期时间可以设置为数小时，而 refreshToken 的过期时间设置为数天。我认为该方案并可行性是存在的，但是为了解决 jwt 的续签把整个流程改变了，为什么不考虑下 oauth2 的 password 模式和 client 模式呢？</p>
<h4 id="4使用-redis-记录独立的过期时间"><a class="header" href="#4使用-redis-记录独立的过期时间">4.使用 redis 记录独立的过期时间</a></h4>
<p>实际上我的项目中由于历史遗留问题，就是使用 jwt 来做登录和会话管理的，为了解决续签问题，我们在 redis 中单独会每个 jwt 设置了过期时间，每次访问时刷新 jwt 的过期时间，若 jwt 不存在与 redis 中则认为过期。 同样改变了 jwt 的流程，不过嘛，世间安得两全法。我只能奉劝各位还未使用 jwt 做会话管理的朋友，尽量还是选用传统的 session+cookie 方案，有很多成熟的分布式 session 框架和安全框架供你开箱即用。</p>
<h1 id="参考"><a class="header" href="#参考">参考</a></h1>
<p>https://www.liqingbo.cn/docs/jwt/content/application.html</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../31.其他_JavaCommandLine/JAVA命令行工具.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next" href="../32.其他_分布式与微服务/一致性Hash.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../31.其他_JavaCommandLine/JAVA命令行工具.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next" href="../32.其他_分布式与微服务/一致性Hash.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script type="text/javascript">
            window.playground_copyable = true;
        </script>


        <script src="../elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../searcher.js" type="text/javascript" charset="utf-8"></script>

        <script src="../clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="../book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->


    </body>
</html>
